!!!用户自定义函数
用户定义函数以下面的格式说明：
{{{
function Name (Parameter, Parameter,...) { Statements }
}}}
函数定义可以位于AWK程序中的任何位置，通常是建议放在文件尾（可以参考“[处理机制|Awk.Mechanism]” 一节），甚至可以先使用后定义。函数的作用域是全局的。

函数的参数可以是标题或数组，参数名称对函数而言是本地的，所有其它变量名称都是全局的，同一个名称不应用作不同的实体；例如：一个参数名称不能用作函数名称又用作特殊变量，具有全局作用域的变量不应共享一个函数的名称，同个作用域中的标题和数组不应具有同一个名称。如果参数是标量，则调用时参数是以传值的方式，如果参数是数组，则调用时使用的是以传引用的方式。

函数定义中的参数数量不必和调用函数时使用的参数数量匹配，多余的形式参数可以用作本地变量，额外的标量参数初始化为空字符串（也可以理解为数字值为0（零））。额外的数组参数初始化为空数组。

当调用函数时，函数名称和左括号之间没有空格。函数调用可以是嵌套的或循环的，从任何嵌套的或循环函数调用返回时，所有调用函数的参数的值保持不变，除了引用传送的数组参数，return 语句可用于返回一个值。

在函数定义内，在左大括号（{）之前和右大括号（}）之后的换行字符是可选的。

下面是一个函数的例子：
{{{
function average (g, n)
{
    for (i in g)
        sum = sum + g[i]
    avg = sum / n
    return avg
}
}}}
将数组 g 和变量 n 以及数组中的元素个数传递给函数 average，然后函数获得一个平均值并返回它。
